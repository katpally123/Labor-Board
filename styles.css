:root{--bg:#f6f7fb;--panel:#ffffff;--line:#d8deea;--ink:#0b1020;--muted:#5b6477;
--purple:#6B21A8;--green:#0F766E;--blue:#1E40AF;--yellow:#CA8A04;}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font:14px/1.35 system-ui,-apple-system,Segoe UI,Roboto;color:var(--ink);background:var(--bg)}
header{position:sticky;top:0;z-index:10;background:var(--panel);border-bottom:1px solid var(--line);padding:10px 12px;display:flex;gap:12px;align-items:center;flex-wrap:wrap}
header h1{margin:0;font-size:16px}
.pill{display:flex;gap:8px;align-items:center;border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px}
.actions{display:flex;gap:6px}
button{border:1px solid var(--line);background:#fff;border-radius:8px;padding:8px;cursor:pointer}
label{font-size:12px;color:var(--muted)}
input[type="date"], input[type="file"], select{border:1px solid var(--line);background:#fff;border-radius:8px;padding:8px}
.metrics{margin-left:auto;color:var(--muted)}
main{display:grid;grid-template-columns:1fr 360px;gap:12px;padding:12px}
.left,.right{background:var(--panel);border:1px solid var(--line);border-radius:14px;overflow:hidden}
.left{padding:12px}
.right{display:flex;flex-direction:column}
.right header{position:sticky;top:0;border:0;padding:8px 10px;gap:8px}
.list{flex:1;overflow:auto;padding:8px 10px;border-top:1px solid var(--line)}
.cols{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
.area{border:2px solid #e4e8f3;border-radius:14px;padding:8px;background:#fff}
.area h3{margin:0 0 6px 0;font-size:13px;display:flex;justify-content:space-between;align-items:center}
.cap{font-size:12px;color:#616b82}
.addbtn{font-size:12px;border:1px dashed var(--line);padding:4px 8px;border-radius:8px;background:#fff}
.lane{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-top:4px}
.row{display:flex;gap:6px;margin-top:6px;flex-wrap:wrap}

/* Slots are compact and prevent overflow */
.slot{width:140px;height:46px;border:2px dashed #d8deea;border-radius:10px;display:flex;align-items:center;justify-content:center;color:#9aa3b8;font-size:18px;user-select:none;overflow:hidden}
.slot.full{border-color:#f3caca;background:#fff4f4}
.slot.active{outline:2px solid #a7f3d0}

.slot[data-max="2"]{display:grid;grid-template-columns:1fr 1fr;gap:6px;height:auto;padding:4px;width:max(300px, 32%)}
.slot[data-max="2"] .slotlet{height:42px;border:2px dashed #d8deea;border-radius:10px;display:flex;align-items:center;justify-content:center;color:#9aa3b8;font-size:16px;width:140px;overflow:hidden}
.slotlet.full{border-color:#f3caca;background:#fff4f4}
.slotlet.active{outline:2px solid #a7f3d0}

/* Compact badge: EID on top, Manager EID + corner below */
.badge{width:140px;min-height:46px;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:2px;padding:6px 8px;border:1px solid #e6ddfa;border-left:6px solid var(--purple);border-radius:10px;background:#faf7ff;cursor:grab;overflow:hidden}
.badge .eid{font-weight:700;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}
.badge .mgr{font-size:11px;color:#5b6477;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}
.badge .corner{font-weight:700;margin-left:6px}

.grid-sort{display:grid;grid-template-columns:repeat(4,minmax(300px,1fr));gap:12px;margin-top:6px}
.cell{border:2px solid #e4e8f3;border-radius:12px;padding:6px;background:#fff}
.cell h4{margin:0 0 6px 0;font-size:12px;display:flex;justify-content:space-between;color:#394156}

.muted{color:var(--muted)}
.unassigned{border:2px dashed #d8deea;border-radius:12px;padding:8px;margin-top:12px;background:#fff}
