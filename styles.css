/* Layout & header */
*{box-sizing:border-box}
body{
  margin:0;
  background:#f7f7f3 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 40 40'%3E%3Cg fill='%23ecebe5' fill-opacity='.9'%3E%3Cpath d='M0 39h40v1H0zM0 0h40v1H0zM0 0v40h1V0zM39 0v40h1V0z'/%3E%3C/g%3E%3C/svg%3E") fixed;
  color:#111; font:14px/1.4 Segoe UI,Roboto,Helvetica,Arial,sans-serif;
}
.hdr{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 16px;background:#fff;border-bottom:6px solid #cfd8dc;
}
.brand{font-weight:800;font-size:1.25rem;letter-spacing:.2px}
.controls{display:flex;gap:12px;align-items:end}
.ctrl{display:flex;flex-direction:column;font-size:.8rem}
.hdr-center{display:flex;gap:16px;align-items:center}
.kpi span{display:block;font-size:.72rem;color:#6b7280}
.kpi strong{font-size:1.2rem}
.hdr-right{display:flex;gap:8px;align-items:center}
.btn{padding:6px 10px;border:1px solid #cbd5e1;border-radius:6px;background:#eef2f7;cursor:pointer}
.btn:hover{filter:brightness(.98)}
.btn-primary{background:#0ea5e9;color:#fff;border:0}
.btn-ghost{background:#fff}
.search{padding:7px 10px;border:1px solid #cbd5e1;border-radius:6px;width:210px}

/* Uploads */
.card{background:#fff;border:4px solid #cfd8dc;border-radius:14px;padding:12px;margin:12px}
.row{display:grid;gap:12px}
.row-head{grid-template-columns:repeat(5,1fr)}
.row-actions{grid-template-columns:1fr auto;align-items:center}
.lbl{font-size:.8rem;color:#374151;margin-bottom:4px;display:block}
.file-hint{font-size:.72rem;color:#6b7280;margin-top:4px}
.codes-pill{display:inline-block;background:#0ea5e9;color:#fff;border-radius:999px;padding:4px 10px;font-size:.8rem}
.tiny-note{font-size:.75rem;color:#6b7280;margin-top:6px}

/* Board */
.whiteboard{display:grid;grid-template-columns:22% 1fr 22%;gap:12px;padding:0 12px 16px}
.rail h3{margin:.2rem 0 8px 0}
.board{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}

/* Path/lanes */
.path{background:#fff;border:5px solid #a7b1b8;border-radius:16px;padding:8px}
.path h4{
  display:flex;justify-content:space-between;align-items:center;margin:0 0 8px 0;
  font-size:1rem;background:#f1f5f9;border:2px solid #cbd5e1;border-radius:10px;padding:6px 8px
}
.path .cap{font-weight:700}
.path .sub{font-weight:400;color:#6b7280;margin-left:6px}
.well{
  min-height:140px;background:#f8fafc;border:3px dashed #cbd5e1;border-radius:12px;padding:8px;
}

/* Unassigned tray */
.unassigned{min-height:200px}

/* Badges */
.badge{
  display:grid;grid-template-columns:40px 1fr auto;gap:8px;
  align-items:center;background:#fff;border:3px solid #333;border-radius:12px;
  padding:8px;margin:6px 4px;cursor:grab;user-select:none;
  box-shadow:0 2px 0 rgba(0,0,0,.05)
}
.badge.planned{border-color:#1f2937}
.badge.present{border-color:#22c55e;box-shadow:0 0 0 3px rgba(34,197,94,.15)}
.av{
  width:40px;height:40px;border-radius:8px;background:#111;color:#fff;display:flex;align-items:center;justify-content:center;
  font-weight:800;letter-spacing:.5px
}
.name{font-weight:700}
.meta{font-size:.78rem;color:#6b7280}

/* Tiny icons on badge */
.icons{display:flex;gap:6px}
.ic{width:10px;height:10px;border-radius:50%}
.ic.vet{background:#3f51b5}
.ic.vto{background:#9c27b0}
.ic.swapin{background:#2196f3}
.ic.swapout{background:#ff9800}
.ic.break{background:#8bc34a}
.ic.train{background:#795548}

/* Legend */
.legend{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px;font-size:.85rem}
.legend .item{display:flex;gap:6px;align-items:center}
.dot{width:12px;height:12px;border-radius:50%}
.dot.vet{background:#3f51b5}
.dot.vto{background:#9c27b0}
.dot.swapin{background:#2196f3}
.dot.swapout{background:#ff9800}
.dot.break{background:#8bc34a}
.dot.train{background:#795548}

/* Log */
.log{
  height:480px;overflow:auto;white-space:pre-wrap;background:#f8fafc;border:2px solid #cbd5e1;border-radius:10px;padding:8px
}

/* Footer */
.ftr{text-align:center;padding:10px;background:#fff;border-top:4px solid #cfd8dc;color:#475569;font-size:.86rem}

/* Responsive */
@media (max-width:1100px){
  .row-head{grid-template-columns:1fr 1fr}
  .whiteboard{grid-template-columns:1fr}
}
